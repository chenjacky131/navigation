import{d as G,g,i as oe,j as T,k as re,o as I,c as L,a,n as x,u as m,F as se,e as ie,_ as O,l as ve,f as de,m as z,p as ge,q as fe}from"./index-c0b6379b.js";const pe={class:"color-select"},he={class:"color-select-middle"},ce={style:{flex:"auto"}},be={class:"color-diamond"},_e={class:"color-value"},me={class:"hex"},$e=["value"],we={class:"rgba-r"},xe=["value"],Ce={class:"rgba-g"},ke=["value"],ye={class:"rgba-b"},Fe=["value"],Ae={class:"rgba-a"},Se=["value"],Ee={class:"preset"},Ie=["onClick"],Me=G({__name:"VueColorComponent",props:{color:{default:()=>({r:217,g:128,b:95,a:1})},preset:{default:()=>["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]}},emits:["update:color"],setup(M,{emit:w}){const c=M,C=w,b=g(null),k=g(null),_=g(null);let F=g("top: 25%;left: 80%;"),V=g("left: 0;"),R=g("left: calc(100% - 6px);"),y=g(0),A=g(1),S=g(1),f=g(255),p=g(0),h=g(0),v=g(1);oe(()=>{let{r:e,g:t,b:l,a:n}=ae(c.color);f.value=e,p.value=t,h.value=l,v.value=n}),T([f,p,h],()=>{C("update:color",{r:f.value,g:p.value,b:h.value,a:v.value});let{h:e,s:t,v:l}=ue(f.value,p.value,h.value);y.value=e,A.value=t,S.value=l,F.value=`top: ${100-l*100}%;left: ${t*100}%;`,V.value=`left: ${y.value/360*100}%;`}),T(v,()=>{C("update:color",{r:f.value,g:p.value,b:h.value,a:v.value}),R.value=`left: ${v.value>=1?"calc(100% - 6px)":v.value*100+"%"};`});let H=re(()=>{let e=f.value,t=p.value,l=h.value,n=v.value,u=y.value,o=A.value,s=S.value;return{rgb:`rgba(${e},${t},${l})`,rgba:`rgba(${e},${t},${l},${n})`,hex6:U(e,t,l),hex8:U(e,t,l,n),hsv:`hsv(${u},${o},${s})`,hsl:""}});function Y(e){let t=e.target.value;if(/^#?([0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t)){let{r:l,g:n,b:u,a:o}=E(t);f.value=l,p.value=n,h.value=u,v.value=o}}function J(e){let t=e.target.value;t!==""&&(+t>255&&(f.value=255),+t<0&&(f.value=0),+t>=0&&+t<=255&&(f.value=parseInt(t)))}function K(e){let t=e.target.value;t!==""&&(+t>255&&(p.value=255),+t<0&&(p.value=0),+t>=0&&+t<=255&&(p.value=parseInt(t)))}function Q(e){let t=e.target.value;t!==""&&(+t>255&&(h.value=255),+t<0&&(h.value=0),+t>=0&&+t<=255&&(h.value=parseInt(t)))}function Z(e){let t=e.target.value;t!==""&&(v.value=+t,+t>1&&(v.value=1),+t<0&&(v.value=0),+t>=0&&+t<=1&&(v.value=+t))}function ee(e){if(/^#?([0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(e)){let{r:t,g:l,b:n,a:u}=E(e);f.value=t,p.value=l,h.value=n,v.value=u}}function P(e){let t=b.value.clientWidth,l=b.value.clientHeight,n=e.pageX-b.value.getBoundingClientRect().left,u=e.pageY-b.value.getBoundingClientRect().top;n=n<t&&n>0?n:n>t?t:0,u=u<l&&u>0?u:u>l?l:0,A.value=Math.floor(n/t*100+.5)/100,S.value=Math.floor((1-u/l)*100+.5)/100;let{r:o,g:s,b:$}=q(y.value,A.value,S.value);f.value=o,p.value=s,h.value=$,F.value=`top: ${u}px;left: ${n}px;`}function te(e){P(e),window.addEventListener("mousemove",P),window.addEventListener("mouseup",W)}function W(){window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",W)}function D(e){let t=k.value.clientWidth,l=e.pageX-b.value.getBoundingClientRect().left;l=l<t&&l>0?l:l>t?t:0,y.value=Math.floor(l/t*360+.5);let{r:n,g:u,b:o}=q(y.value,A.value,S.value);f.value=n,p.value=u,h.value=o,V.value=`left: ${l>=t-6?t-6:l}px;`}function le(e){D(e),window.addEventListener("mousemove",D),window.addEventListener("mouseup",X)}function X(){window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",X)}function N(e){let t=_.value.clientWidth,l=e.pageX-b.value.getBoundingClientRect().left;l=l<t&&l>0?l:l>t?t:0,v.value=Math.floor(l/t*100+.5)/100,R.value=`left: ${l>=t-6?t-6:l}px;`}function ne(e){N(e),window.addEventListener("mousemove",N),window.addEventListener("mouseup",j)}function j(){window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",j)}function ae(e){if(e){let t,l,n,u;if(typeof e=="string"){if(/^#?([0-9a-fA-F]{6}|[0-9a-fA-F]{8}|[0-9a-fA-F]{3}|[0-9a-fA-F]{4})$/.test(e))return E(e)}else return t=e.r>255?255:e.r<0?0:e.r,l=e.g>255?255:e.g<0?0:e.g,n=e.b>255?255:e.b<0?0:e.b,u=e.a>1?1:e.a<0?0:e.a,{r:t,g:l,b:n,a:u}}}function q(e,t,l){e===360&&(e=0);let n=Math.floor(e/60)%6,u=e/60-n,o=l*(1-t),s=l*(1-t*u),$=l*(1-t*(1-u)),r,i,d;return n===0?(r=l,i=$,d=o):n===1?(r=s,i=l,d=o):n===2?(r=o,i=l,d=$):n===3?(r=o,i=s,d=l):n===4?(r=$,i=o,d=l):n===5&&(r=l,i=o,d=s),r=Math.floor(r*255+.5),i=Math.floor(i*255+.5),d=Math.floor(d*255+.5),{r,g:i,b:d}}function ue(e,t,l){let n=e/255,u=t/255,o=l/255,s=Math.max(n,u,o),$=Math.min(n,u,o),r=s-$,i,d,B;return r===0?i=0:s===n?i=(60*(u-o)/r+360)%360:s===u?i=60*((o-n)/r+2):s===o&&(i=60*((n-u)/r+4)),s===0?d=0:d=r/s,B=s,i=Math.floor(i+.5),d=Math.floor(d*100+.5)/100,B=Math.floor(B*100+.5)/100,{h:i,s:d,v:B}}function U(e,t,l,n=1){let u=e.toString(16).length!==2?"0"+e.toString(16):e.toString(16);t=parseInt(t);let o=t.toString(16).length!==2?"0"+t.toString(16):t.toString(16);l=parseInt(l);let s=l.toString(16).length!==2?"0"+l.toString(16):l.toString(16);n=parseFloat(n);let $="";if(n!==1){let r=Math.floor(256*n);$=r.toString(16).length!==2?"0"+r.toString(16):r.toString(16)}return`#${u}${o}${s}${$}`.toUpperCase()}function E(e){if(/^#?[0-9a-fA-F]{3}$/.test(e)){let t=e.substring(e.length-1,e.length),l=e.substring(e.length-2,e.length-1),n=e.substring(e.length-3,e.length-2);return E(`${n+n}${l+l}${t+t}`)}if(/^#?[0-9a-fA-F]{4}$/.test(e)){let t=e.substring(e.length-1,e.length),l=e.substring(e.length-2,e.length-1),n=e.substring(e.length-3,e.length-2),u=e.substring(e.length-4,e.length-3);return E(`${u+u}${n+n}${l+l}${t+t}`)}if(/^#?[0-9a-fA-F]{6}$/.test(e)){let t=parseInt("0x"+e.substring(e.length-2,e.length)),l=parseInt("0x"+e.substring(e.length-4,e.length-2));return{r:parseInt("0x"+e.substring(e.length-6,e.length-4)),g:l,b:t,a:1}}if(/^#?[0-9a-fA-F]{8}$/.test(e)){let t=parseInt("0x"+e.substring(e.length-2,e.length));t=t/255;let l=parseInt("0x"+e.substring(e.length-4,e.length-2)),n=parseInt("0x"+e.substring(e.length-6,e.length-4));return{r:parseInt("0x"+e.substring(e.length-8,e.length-6)),g:n,b:l,a:t}}}return(e,t)=>(I(),L("div",pe,[a("div",{class:"saturation-value",ref_key:"saturation_value",ref:b,onMousedown:te},[a("div",{style:x(`background-color: hsl(${m(y)}, 100%, 50%);`)},[a("div",{class:"point",style:x(m(F))},null,4)],4),t[0]||(t[0]=a("div",{class:"saturation-value-2"},null,-1)),t[1]||(t[1]=a("div",{class:"saturation-value-3"},null,-1))],544),a("div",he,[a("div",ce,[a("div",{class:"hue-slider",ref_key:"hue_slider",ref:k,onMousedown:le},[a("div",{class:"slider",style:x(m(V))},null,4)],544),a("div",{class:"alpha-slider",ref_key:"alpha_slider",ref:_,onMousedown:ne},[a("div",{class:"slider",style:x(m(R))},null,4),a("div",{style:x(`background: linear-gradient(to right, rgba(0,0,0,0), ${m(H).rgb});width: 100%;height: 100%`)},null,4)],544)]),a("div",be,[a("div",{style:x(`background-color: ${m(H).rgba};width: 100%;height: 100%;box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15), inset 0 0 4px rgba(0, 0, 0, .25);`)},null,4)])]),a("div",_e,[a("div",me,[a("label",null,[a("input",{value:m(H).hex8,onInput:Y,spellcheck:"false"},null,40,$e)]),t[2]||(t[2]=a("p",null,"Hex",-1))]),a("div",we,[a("label",null,[a("input",{value:m(f),onInput:J},null,40,xe)]),t[3]||(t[3]=a("p",null,"R",-1))]),a("div",Ce,[a("label",null,[a("input",{value:m(p),onInput:K},null,40,ke)]),t[4]||(t[4]=a("p",null,"G",-1))]),a("div",ye,[a("label",null,[a("input",{value:m(h),onInput:Q},null,40,Fe)]),t[5]||(t[5]=a("p",null,"B",-1))]),a("div",Ae,[a("label",null,[a("input",{value:m(v),onInput:Z},null,40,Se)]),t[6]||(t[6]=a("p",null,"A",-1))])]),a("ul",Ee,[(I(!0),L(se,null,ie(e.preset,(l,n)=>(I(),L("li",{key:n,style:x(`background-color: ${l}`),onClick:u=>ee(l)},null,12,Ie))),128))])]))}});const Be=O(Me,[["__scopeId","data-v-d47e0dd0"]]),Le=(M,w)=>{let c,C;return function(...b){C=this,c&&clearTimeout(c),c=setTimeout(()=>{M.call(C,b)},w)}},Ve=G({__name:"ColorPickerView",setup(M){const w=g(!1),c=g({r:0,g:0,b:0,a:.66}),C=()=>{w.value=!w.value},b=Le(k=>console.log(k[0]),100);return T(c,k=>{b(fe(k))},{deep:!0}),(k,_)=>(I(),L("div",{class:"color-wrap",onClick:_[2]||(_[2]=F=>w.value=!1)},[_[3]||(_[3]=ve(" 颜色拾取器: ")),a("div",{class:"holder",onClick:z(C,["stop"])},[a("div",{class:"color-holder",style:x({background:`rgba(${c.value.r},${c.value.g},${c.value.b},${c.value.a})`})},null,4),w.value?(I(),de(Be,{key:0,onClick:_[0]||(_[0]=z(()=>{},["stop"])),color:c.value,"onUpdate:color":_[1]||(_[1]=F=>c.value=F)},null,8,["color"])):ge("",!0)])]))}});const He=O(Ve,[["__scopeId","data-v-99956ed3"]]);export{He as default};
