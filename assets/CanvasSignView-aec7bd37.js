import{d as p,g as c,h as g,i as f,o as m,c as k,a as o,t as C,_ as S}from"./index-a093226e.js";const W={class:"sign-canvas-wrap"},b=p({__name:"CanvasSignView",setup(L){const i=c(),t=c(),e=g({width:500,height:500,strokeStyle:"black",lineWidth:5,lineCap:"round",lineJoin:"round"}),d=a=>{const{offsetX:n,offsetY:s}=a;t.value.strokeStyle=e.strokeStyle,t.value.lineWidth=e.lineWidth,t.value.lineCap=e.lineCap,t.value.lineJoin=e.lineJoin,t.value.beginPath(),t.value.moveTo(n,s),window.addEventListener("mousemove",l),window.addEventListener("mouseup",u)},u=()=>{t.value.closePath(),window.removeEventListener("mousemove",l)},l=a=>{const{offsetX:n,offsetY:s}=a;t.value.lineTo(n,s),t.value.stroke()},v=()=>{t.value.clearRect(0,0,e.width,e.height)},r=()=>{i.value.toBlob(a=>{const n=document.createElement("a"),s=Date.now().toString();n.download=`${s}.png`,n.href=URL.createObjectURL(a),n.click()})},h=()=>{e.lineWidth++},w=()=>{e.lineWidth--},_=()=>{e.lineWidth=5};return f(()=>{i.value=document.querySelector("#sign-canvas"),i.value.width=e.width,i.value.height=e.height,t.value=i.value.getContext("2d"),t.value.fillStyle="transparent",t.value.clearRect(0,0,e.width,e.height),window.addEventListener("mousedown",d)}),(a,n)=>(m(),k("div",W,[o("div",null,[n[0]||(n[0]=o("canvas",{id:"sign-canvas"},null,-1)),o("div",null,[o("button",{onClick:r},"导出签名"),o("button",{onClick:v},"清除画布"),o("span",null,"画笔粗细："+C(e.lineWidth),1),o("button",{onClick:h},"加粗画笔"),o("button",{onClick:w},"减细画笔"),o("button",{onClick:_},"复原画笔尺寸")])])]))}});const x=S(b,[["__scopeId","data-v-60c57226"]]);export{x as default};
